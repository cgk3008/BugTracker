@model IEnumerable<BugTracker.Models.Ticket>

@{
	ViewBag.Title = "Index";
}

<h2>Ticket Index</h2>

@if (User.IsInRole("Submitter"))
{

	<p>
		@Html.ActionLink("Create New", "Create")
	</p>

}
<table class="table">
	<tr>
		<th>
			Assigned User

		</th>
		<th>
			Ticket Owner

		</th>
		<th>
			Priority
		</th>
		<th>
			Project
		</th>
		<th>
			Status
		</th>
		<th>
			Type
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Body)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Description)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Created)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Updated)
		</th>
		<th></th>
	</tr>

	@foreach (var item in Model)
	{
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.AssignedToUser.FirstName)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.OwnerUser.FirstName)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Priority.Name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Project.Name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Status.Name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Type.Name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Body)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Description)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Created)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Updated)
			</td>
			<td>

				@Html.ActionLink("Details", "Details", new { id = item.Id }) |


				@if (User.IsInRole("Admin") || User.IsInRole("Project Manager"))
	{
			@Html.ActionLink("Edit", "Edit", new { id = item.Id })
}
				|

				ok how do I perform soft delete???
				@if (User.IsInRole("Admin"))
	{


			@Html.ActionLink("Delete", "Delete", new { id = item.Id })
}
				|
			</td>
		</tr>
	}

</table>
